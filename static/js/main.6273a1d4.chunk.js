(this["webpackJsonpvideo-front"]=this["webpackJsonpvideo-front"]||[]).push([[0],{431:function(e,t,n){},432:function(e,t,n){"use strict";n.r(t);var r,c,a,i=n(0),o=n(28),u=n.n(o),s=n(436),l=n(37),d=n(61),f=n(132),b=n.n(f),O=n(438),j=n(105),v={PENDING:1,APPROVED:2,FINISHED:3},p="GET_USERS",h="GET_USERS_SUCCESS",g="GET_USERS_ERROR",x="UPDATE_ME",E="CALL_MODAL_STATUS",m="SET_CALL",S="SET_TWILLIO_CONFIG",C="SET_TWILLIO_CONFIG_SUCCESS",_="SET_TWILLIO_CONFIG_FAIL",T=function(e){return{type:E,payload:e}},w=function(e){return{type:m,payload:e}},k=function(e){return{type:_,payload:e}},y=n(42),R=n(43),D=n(223),A=n.n(D),I=n(226),L=n.n(I),P=(n(249),Object(R.a)(A.a)(r||(r=Object(y.a)(["\n    margin-top: 0;\n    font-size: clamp(1rem, 10vw, 3.5rem);\n    line-height: 1.2;\n"])))),N=Object(R.a)(L.a)(c||(c=Object(y.a)(["\n    margin-bottom: 0 !important;\n"]))),U="USER_JOINED",M="USER_LEFT",H="MY_DATA",W="USER_UPDATED",F="REQUESTED_CALL",K="ACCEPTED_CALL",V="DECLINED_CALL",G="OFFER",B="ANSWER",J="ICE_CANDIDATE",Y="CUSTOM_ERROR",z=n(227),X=n(228),q=n(229),Q=n(134),Z="vc-user",$=(a=Z,function(){return JSON.parse(localStorage.getItem(a)||null)}),ee=function(e){return function(t){return localStorage.setItem(e,JSON.stringify(t))}}(Z),te=new(function(){function e(){Object(z.a)(this,e)}return Object(X.a)(e,[{key:"initConnection",value:function(){var e={path:Object({NODE_ENV:"production",PUBLIC_URL:"/video-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SOCKET_PATH,transports:["websocket"]},t=$();t&&(e.query={name:t}),this.socket=Object(q.io)(Object({NODE_ENV:"production",PUBLIC_URL:"/video-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SOCKET_URL,e)}},{key:"emit",value:function(e,t){this.socket.emit(e,t)}}]),e}());te.initConnection();var ne,re,ce,ae=function(){var e=te.socket;return Object(Q.b)((function(t){var n=function(e,n){return t({event:e,data:n})};return e.onAny(n),function(){return e.offAny(n)}}))},ie=te,oe=function(e){return ie.emit(V,{id:e})},ue=function(e){return ie.emit(J,e)},se=function(e){return ie.emit(B,e)},le=(n(362),n(8)),de=function(e,t){var n=t.caller,r=t.status;return e&&r===v.PENDING?"Your invitation is pending":e||r!==v.PENDING?"Call has been finished":"You've been invited to chat by ".concat((null===n||void 0===n?void 0:n.name)||"Anonymus")},fe=Object(l.b)((function(e){return{user:e.users.me,call:e.calls.call}}),{setModal:T,setCall:w})((function(e){var t,n=e.user,r=e.call,c=e.setCall,a=e.setModal,i=n.id===(null===r||void 0===r||null===(t=r.caller)||void 0===t?void 0:t.id);return(null===r||void 0===r?void 0:r.id)&&(null===r||void 0===r?void 0:r.status)?Object(le.jsxs)(O.a,{footer:null,visible:!0,closable:!1,maskClosable:!1,destroyOnClose:!0,children:[Object(le.jsx)(P,{children:de(i,r)}),r.status===v.PENDING&&Object(le.jsxs)(le.Fragment,{children:[!i&&Object(le.jsx)(j.a,{onClick:function(){return e=r.id,ie.emit(K,{id:e});var e},children:"Accept"}),Object(le.jsx)(j.a,{onClick:function(){oe(r.id),c(null),a(!1)},children:"Cancel"})]})]}):null})),be=function(e){return{type:p,payload:e}},Oe=function(e){return{type:h,payload:e}},je=n(230),ve=n.n(je),pe=n(437),he=n(233),ge=n(47),xe=n(151),Ee=n.n(xe),me=n(232),Se=n.n(me),Ce=n(439),_e=n(440),Te=1,we=2,ke=3,ye=(ne={},Object(ge.a)(ne,Te,null),Object(ge.a)(ne,we,Object(le.jsx)(Ce.a,{})),Object(ge.a)(ne,ke,Object(le.jsx)(_e.a,{})),ne),Re=Object(R.a)(Ee.a)(re||(re=Object(y.a)(["\n  padding: .5rem 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 .6rem 1.2rem 0 rgba(68, 79, 84, 0.05);\n  background: white;\n"]))),De=Object(l.b)(null,{setModal:T})((function(e){var t=e.user,n=t.id,r=t.name,c=t.status,a=e.setModal;return Object(le.jsxs)(Re,{children:[Object(le.jsxs)("div",{children:[r," ",ye[c]]}),Object(le.jsx)(Se.a,{disabled:c!==Te,onClick:function(){var e;c===Te&&(e=n,ie.emit(F,{calleeId:e}),a(!0))},children:"Invite"})]})})),Ae=Object(l.b)((function(e){var t=e.users;return{users:t.users,pagination:t.pagination,isLoading:t.isLoading,me:t.me}}),{getUsers:be})((function(e){var t=e.me,n=e.users,r=e.pagination,c=e.isLoading,a=e.getUsers,o=Object(i.useMemo)((function(){return n.filter((function(e){return e.id!==(null===t||void 0===t?void 0:t.id)}))}),[n]);return Object(le.jsx)(ve.a,{initialLoad:!1,pageStart:0,loadMore:a,hasMore:r.totalCount<n.length,useWindow:!1,children:Object(le.jsx)(pe.b,{dataSource:o,renderItem:function(e){return Object(le.jsx)(De,{user:e},e.id)},children:c&&Object(le.jsx)(he.a,{})})})})),Ie=n(22),Le=n.n(Ie),Pe=n(25),Ne=n(98),Ue=n(65),Me={unlimited:"Unlimited",highest:"1080p",normal:"720p",minecraft:"Minecraft"},He=(ce={},Object(ge.a)(ce,Me.unlimited,{width:{ideal:4096},height:{ideal:2160}}),Object(ge.a)(ce,Me.highest,{width:1920,height:1080}),Object(ge.a)(ce,Me.normal,{width:1280,height:720}),Object(ge.a)(ce,Me.minecraft,{width:50,height:25}),ce),We=Object.values(Me),Fe={label:"SOCKET",style:"color: green;"},Ke={label:"API",style:"color: blue; background: white;"},Ve={label:"DEBUG"},Ge=function(e){var t=e.label,n=e.style;return function(e){return console.log("%c\n  ".concat(t," at ").concat((new Date).toISOString(),":\n  ").concat(JSON.stringify(e),"\n"),n)}},Be=Ge({label:"WEB_RTC",style:"color: red;"}),Je=(Ge(Fe),Ge(Ke));Ge(Ve);var Ye,ze,Xe,qe,Qe=function(e,t){t.createOffer().then((function(e){return t.setLocalDescription(e)})).then((function(){return n={target:e,caller:ie.socket.id,sdp:t.localDescription},ie.emit(G,n);var n})).catch(Be)},Ze=function(){return window.onbeforeunload=function(){return"Are you sure you want to leave?"},function(){return window.onbeforeunload=null}},$e=function(e){return new Promise((function(t){var n=document.createElement("canvas");e.onloadeddata=function(){console.log(e.videoWidth),n.width=e.videoWidth,n.height=e.videoHeight,n.getContext("2d").drawImage(e,0,0,n.width,n.height);var r=n.toDataURL();t(r)}}))},et=n(441),tt=n(442),nt=n(443),rt=n(444),ct=n(445),at=n(107),it=(n(408),R.a.div(Ye||(Ye=Object(y.a)(["\n  position: absolute;\n  width: 100%;\n  height: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 1;\n  background: var(--grayish);\n  padding: 0 1rem;\n\n  svg {\n    margin-right: 1rem;\n\n    path {\n      fill: var(--dark);\n    }\n  }\n"])))),ot=function(e){var t=e.toggleMinify,n=e.toggleMute,r=e.setResolution,c=e.handleHangup,a=e.resolution,i=e.isMinified,o=e.isMuted;return Object(le.jsxs)(it,{children:[Object(le.jsxs)("div",{children:[i?Object(le.jsx)(et.a,{onClick:t}):Object(le.jsx)(tt.a,{onClick:t}),o?Object(le.jsx)(nt.a,{onClick:n}):Object(le.jsx)(rt.a,{onClick:n}),Object(le.jsx)(ct.a,{onClick:c})]}),Object(le.jsx)("div",{children:Object(le.jsx)(at.a,{value:a,onChange:r,children:We.map((function(e){return Object(le.jsx)(at.a.Option,{value:e,children:e},"resolution-".concat(e))}))})})]})},ut=n(139),st=n.n(ut),lt={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withToast,r=void 0!==n&&n;return e.then((function(e){return e.data})).catch((function(e){Je(e),r&&d.b.error(e.message,lt)}))},ft="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/video-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"/").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/video-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_VERSION),bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?20:t,r=e.offset,c=void 0===r?0:r;return dt(st.a.get("".concat(ft,"/users"),{params:{limit:n,offset:c}}))},Ot=function(){return dt(st.a.get("".concat(ft,"/twilio/config")),{withToast:!0})},jt=function(e){return dt(st.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/video-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_VIOLATION_API,{file:e})).then((function(e){if(!e.isSafe)throw new Error}))},vt=1,pt=2,ht=3,gt=function(e){var t=e.closeToast,n=e.acceptVideo;return Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{children:"Cup alert!"}),Object(le.jsx)(j.a,{onClick:function(){n(),t()},children:"Show anyway"})]})},xt=R.a.div(ze||(ze=Object(y.a)(["\n  position: relative;\n"]))),Et=R.a.video(Xe||(Xe=Object(y.a)(["\n  width: ",";\n  object-fit: cover;\n  height: ",";\n  ","\n  filter: ",";\n"])),(function(e){return e.isMinified?"250px":"100%"}),(function(e){return e.isMinified?"100px":"100%"}),(function(e){return e.isMinified?"\n  top: 3rem;\n  left: 0;\n  position: absolute;\n":""}),(function(e){return e.status!==pt?"blur(30px)":"none"})),mt=Object(l.b)((function(e){var t=e.users.me,n=e.calls;return{user:t,call:n.call,config:n.config}}),{setCall:w})((function(e){var t,n=e.call,r=e.user,c=e.setCall,a=e.config,o=e.history,u=Object(i.useRef)(ie.socket),s=Object(i.useRef)(null===(t=[null===n||void 0===n?void 0:n.caller,null===n||void 0===n?void 0:n.callee].find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return t!==(null===r||void 0===r?void 0:r.id)})))||void 0===t?void 0:t.socketId),l=Object(i.useRef)(),f=Object(i.useRef)(),b=Object(i.useRef)(),O=Object(i.useRef)(),j=Object(i.useState)(function(){var e,t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return(null===t||void 0===t?void 0:t.saveData)||(null===t||void 0===t||null===(e=t.effectiveType)||void 0===e?void 0:e.includes("2g"))?Me.minecraft:"3g"===(null===t||void 0===t?void 0:t.effectiveType)?Me.normal:Me.unlimited}()),v=Object(Ue.a)(j,2),p=v[0],h=v[1],g=Object(i.useState)(!0),x=Object(Ue.a)(g,2),E=x[0],m=x[1],S=Object(i.useState)(!1),C=Object(Ue.a)(S,2),_=C[0],T=C[1],w=Object(i.useState)(vt),k=Object(Ue.a)(w,2),y=k[0],R=k[1],D=Object(i.useState)({audio:!0,video:He[p]}),A=Object(Ue.a)(D,1)[0],I=function(){!function(){var e;console.log(l),null===(e=l.current)||void 0===e||e.close(),l.current=void 0}(),f.current&&f.current.getTracks().forEach((function(e){return e.stop()}))},L=function(){var e=Object(Ne.a)(Le.a.mark((function e(t){var n;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.streams,O.current.srcObject=n[0],$e(O.current).then(jt).then((function(){return R(pt)})).catch((function(){R(ht),d.b.warning(Object(le.jsx)(gt,{acceptVideo:function(){return R(pt)}}),Object(Pe.a)(Object(Pe.a)({},lt),{},{autoClose:!1}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(e){var t=new RTCPeerConnection(a);return t.onicecandidate=function(e){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).candidate,t=arguments.length>1?arguments[1]:void 0;e&&ue({target:t,candidate:e})}(e,s.current)},t.ontrack=L,t.onnegotiationneeded=function(){return Qe(e,t)},t}function N(){return(N=Object(Ne.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.current=P(t),f.current.getTracks().forEach((function(e){return l.current.addTrack(e,f.current)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return M.apply(this,arguments)}function M(){return(M=Object(Ne.a)(Le.a.mark((function e(t){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.current=P(),l.current.setRemoteDescription(new RTCSessionDescription(t.sdp)).then((function(){return f.current.getTracks().forEach((function(e){return l.current.addTrack(e,f.current)}))})).then((function(){return l.current.createAnswer()})).then((function(e){return l.current.setLocalDescription(e),e})).then((function(e){se({target:t.caller,caller:u.current.id,sdp:e})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(!(null===n||void 0===n?void 0:n.id))return o.replace("/"),!1;var e=[],t=Ze(),c=[G,B,J];return navigator.mediaDevices.getUserMedia(A).then((function(t){b.current.srcObject=t,f.current=t,r.id===(null===n||void 0===n?void 0:n.callerId)&&function(e){N.apply(this,arguments)}(n.callee.socketId),e.push(U,(function(e){return function(e,t){t.current.setRemoteDescription(new RTCSessionDescription(e.sdp)).catch(Be)}(e,l)}),(function(e){return function(e,t){try{var n=new RTCIceCandidate(e);t.current.addIceCandidate(n).catch(Be)}catch(r){Be("candidate error")}}(e,l)})),u.current.once(G,e[0]),u.current.once(B,e[1]),u.current.on(J,e[2])})),function(){t(),I(),l.current=void 0,e.forEach((function(e,t){return ie.socket.off(c[t],e)}))}}),[]),Object(le.jsx)(xt,{children:Object(le.jsxs)("div",{children:[Object(le.jsx)(ot,{setResolution:function(e){f.current.getVideoTracks().forEach((function(t){h((function(){return e})),t.applyConstraints(He[e])}))},toggleMinify:function(){return m((function(e){return!e}))},toggleMute:function(){var e=f.current.getAudioTracks(),t=e[0].enabled;T(!t),e[0].enabled=!t},handleHangup:function(){oe(n.id),c(null),Ze()(),o.replace("/")},isMinified:E,isMuted:_,resolution:p}),Object(le.jsx)(Et,{ref:O,autoPlay:!0,fullHeight:E,status:y}),Object(le.jsx)(Et,{ref:b,muted:!0,autoPlay:!0,isMinified:E,status:pt})]})})})),St=function(){var e=Object(l.c)((function(e){return e.users.me})),t=Object(i.useState)(),n=Object(Ue.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)(),o=Object(Ue.a)(a,2),u=o[0],s=o[1];return Object(i.useEffect)((function(){(null===e||void 0===e?void 0:e.name)!==r&&c(e.name)}),[e]),Object(le.jsx)(N,{editable:{onChange:c,onEnd:function(){return c((function(e){var t;return t={name:e},ie.emit(W,t),s((function(){return!1})),e}))},onCancel:function(){c((function(){return e.name})),s((function(){return!1}))},onStart:function(){return s(!0)},editing:u,maxLength:50},children:r})},Ct=Object(R.a)(f.Header)(qe||(qe=Object(y.a)(["\n  padding: 2rem;\n  background: var(--whitey);\n\n  svg {\n    fill: var(--dark);\n  }\n"]))),_t=function(){return Object(le.jsx)(Ct,{children:Object(le.jsx)(St,{})})},Tt=Object(l.b)((function(e){return{modalOpen:e.calls.modalOpen}}),{getUsers:be,getTwilioConfig:function(e){return{type:S,payload:e}}})((function(e){var t=e.getUsers,n=e.modalOpen,r=e.getTwilioConfig;return Object(i.useEffect)((function(){r(),t()}),[t,r]),Object(le.jsxs)(b.a,{children:[Object(le.jsx)(_t,{}),Object(le.jsxs)("main",{children:[Object(le.jsxs)(s.c,{children:[Object(le.jsx)(s.a,{exact:!0,path:"/",component:Ae}),Object(le.jsx)(s.a,{exact:!0,path:"/call",component:mt})]}),n&&Object(le.jsx)(fe,{})]})]})})),wt=n(74),kt={users:[],isLoading:!1,me:null,pagination:{limit:20,offset:0,totalCount:null}},yt={modalOpen:!1,call:{id:null,callerId:null,calleeId:null,status:v.PENDING},config:[]},Rt=Object(wt.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(Pe.a)(Object(Pe.a)({},e),{},{isLoading:!0});case h:return Object(Pe.a)(Object(Pe.a)({},e),{},{isLoading:!1},r);case g:return Object(Pe.a)(Object(Pe.a)({},e),{},{isLoading:!1,users:[]});case x:return Object(Pe.a)(Object(Pe.a)({},e),{},{me:r});default:return Object(Pe.a)({},e)}},calls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E:return Object(Pe.a)(Object(Pe.a)({},e),{},{modalOpen:r});case m:return Object(Pe.a)(Object(Pe.a)({},e),{},{call:r});case S:return Object(Pe.a)({},e);case C:return Object(Pe.a)(Object(Pe.a)({},e),{},{config:r});case _:return Object(Pe.a)(Object(Pe.a)({},e),{},{config:[]});default:return Object(Pe.a)({},e)}}}),Dt=n(15),At=n(45),It=function(e){var t=e.nextOffset,n=e.totalCount,r=e.limit;return{totalCount:n,limit:void 0===r?20:r,offset:t}},Lt=Le.a.mark(Ut),Pt=Le.a.mark(Ht),Nt=Le.a.mark(Wt);function Ut(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.g)(p,Ht);case 2:case"end":return e.stop()}}),Lt)}var Mt=function(e){return Object(Ne.a)(Le.a.mark((function t(){return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",bt(e));case 1:case"end":return t.stop()}}),t)})))};function Ht(){var e,t,n,r,c,a;return Le.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Dt.e)((function(e){return e.users}));case 2:return e=i.sent,t=e.offset,n=e.users,i.prev=5,i.next=8,Object(Dt.b)(Mt({offset:t}));case 8:return r=i.sent,c=r.data,a=r.pagination,i.next=13,Object(Dt.d)(Oe({pagination:It(a),users:[].concat(Object(At.a)(n),Object(At.a)(c))}));case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(5),i.next=19,Object(Dt.d)({type:g});case 19:case"end":return i.stop()}}),Pt,null,[[5,15]])}function Wt(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.a)([Object(Dt.c)(Ut)]);case 2:case"end":return e.stop()}}),Nt)}var Ft=function(e,t){return[].concat(Object(At.a)(e.slice(0,t)),Object(At.a)(e.slice(t+1)))},Kt=n(56),Vt=Object(Kt.a)(),Gt=Le.a.mark(Jt),Bt=Le.a.mark(Yt);function Jt(){var e,t;return Le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Dt.b)(ae);case 2:e=n.sent,t=Le.a.mark((function t(){var n,r,c,a,i,o,u;return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.f)(e);case 2:return n=t.sent,r=n.event,c=n.data,t.next=7,Object(Dt.e)((function(e){return e.users.me}));case 7:a=t.sent,i=void 0,t.t0=r,t.next=t.t0===Y?12:t.t0===H?14:t.t0===F?18:t.t0===V?24:t.t0===K?34:t.t0===U?43:t.t0===W?49:t.t0===M?57:63;break;case 12:return d.b.error(c,lt),t.abrupt("break",64);case 14:return ee(c.name),t.next=17,Object(Dt.d)({type:x,payload:c});case 17:return t.abrupt("break",64);case 18:return t.next=20,Object(Dt.d)(w(c));case 20:if(a.id===c.caller.id){t.next=23;break}return t.next=23,Object(Dt.d)(T(!0));case 23:return t.abrupt("break",64);case 24:return t.next=26,Object(Dt.e)((function(e){return e.calls.call}));case 26:return o=t.sent,t.next=29,Object(Dt.d)(w(Object(Pe.a)(Object(Pe.a)({},o),{},{status:v.CANCELED})));case 29:return t.next=31,Object(Dt.d)(T(!1));case 31:return Vt.replace("/"),d.b.error("Call has been canceled by other user.",lt),t.abrupt("break",64);case 34:return t.next=36,Object(Dt.e)((function(e){return e.calls.call}));case 36:return u=t.sent,t.next=39,Object(Dt.d)(w(Object(Pe.a)(Object(Pe.a)({},u),{},{status:v.APPROVED})));case 39:return t.next=41,Object(Dt.d)(T(!1));case 41:return Vt.push("/call"),t.abrupt("break",64);case 43:return t.next=45,Object(Dt.e)((function(e){return e.users.users}));case 45:return i=t.sent,t.next=48,Object(Dt.d)(Oe({users:[c].concat(Object(At.a)(i))}));case 48:return t.abrupt("break",64);case 49:if(c.id===a.id){t.next=56;break}return t.next=52,Object(Dt.e)((function(e){return e.users.users}));case 52:return i=t.sent,t.next=55,Object(Dt.d)(Oe({users:(s=i,l=i.findIndex((function(e){return e.id===c.id})),f=c,[].concat(Object(At.a)(s.slice(0,l)),[f],Object(At.a)(s.slice(l+1))))}));case 55:case 56:return t.abrupt("break",64);case 57:return t.next=59,Object(Dt.e)((function(e){return e.users.users}));case 59:return i=t.sent,t.next=62,Object(Dt.d)(Oe({users:Ft(i,i.findIndex((function(e){return e.id===c})))}));case 62:case 63:return t.abrupt("break",64);case 64:case"end":return t.stop()}var s,l,f}),t)}));case 4:return n.delegateYield(t(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),Gt)}function Yt(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.a)([Object(Dt.c)(Jt)]);case 2:case"end":return e.stop()}}),Bt)}var zt=Le.a.mark(Qt),Xt=Le.a.mark(Zt),qt=Le.a.mark($t);function Qt(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.h)(S,Zt);case 2:case"end":return e.stop()}}),zt)}function Zt(){var e;return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dt.b)(Ot);case 3:return e=t.sent,t.next=6,Object(Dt.d)({type:C,payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Dt.d)(k());case 12:case"end":return t.stop()}}),Xt,null,[[0,8]])}function $t(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.a)([Object(Dt.c)(Qt)]);case 2:case"end":return e.stop()}}),qt)}var en=Le.a.mark(tn);function tn(e){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt.a)([Wt(),$t(),Yt()]);case 2:case"end":return e.stop()}}),en)}var nn=Object(Q.a)(),rn=[nn];var cn=function(e){var t=wt.c;window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;var n=Object(wt.d)(Rt,e,t(wt.a.apply(void 0,rn)));return nn.run(tn),n}();n(430),n(431);u.a.render(Object(le.jsx)(l.a,{store:cn,children:Object(le.jsxs)(i.Suspense,{fallback:Object(le.jsx)("div",{className:"loading"}),children:[Object(le.jsx)(d.a,{}),Object(le.jsx)(s.b,{history:Vt,children:Object(le.jsx)(Tt,{})})]})}),document.getElementById("root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.6273a1d4.chunk.js.map